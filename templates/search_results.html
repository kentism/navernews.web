<!-- ============================================================================ -->
<!-- NEWS RESULTS LISTS -->
<!-- This template is rendered server-side and injected into search tabs -->
<!-- ============================================================================ -->

<div class="search-results-list">
    {% for item in items %}
    <!-- Single News Card -->
    <div class="news-card" data-title="{{ item.title | escape }}" data-link="{{ item.link }}"
        data-source="{{ item.source }}" data-pubdate="{{ item.pubDate }}" data-originallink="{{ item.originallink }}"
        data-domain="{{ item.domain }}">

        <!-- Header: Source and Date -->
        <div class="news-header">
            <span class="news-source">{{ item.source }}</span>
            <span class="news-date">{{ item.pubDate | time_ago }}</span>
        </div>

        <!-- Title with Keyword Highlight -->
        <h3 class="news-title">{{ item.title | highlight(keyword) }}</h3>

        <!-- Description with Keyword Highlight -->
        <p class="news-desc">{{ item.description | highlight(keyword) }}</p>

        <!-- Action Buttons -->
        <div class="news-actions">
            <!-- Category Selector & Clip Button -->
            <div class="clip-selector-group">
                <select class="category-select" id="cat-{{ loop.index }}">
                    <option value="ìœ„ì›íšŒ ê´€ë ¨">ìœ„ì›íšŒ ê´€ë ¨</option>
                    <option value="ë°©ì†¡Â·í†µì‹  ê´€ë ¨">ë°©ì†¡Â·í†µì‹  ê´€ë ¨</option>
                    <option value="ìœ ê´€ê¸°ê´€ ê´€ë ¨">ìœ ê´€ê¸°ê´€ ê´€ë ¨</option>
                    <option value="ê¸°íƒ€ ê´€ë ¨">ê¸°íƒ€ ê´€ë ¨</option>
                </select>
                <button class="btn-small btn-primary" type="button" data-title="{{ item.title }}"
                    data-link="{{ item.link }}" data-source="{{ item.source }}" data-pubdate="{{ item.pubDate }}"
                    data-originallink="{{ item.originallink }}"
                    onclick="const cat=this.previousElementSibling.value; clipArticleFromData(this.dataset.title, this.dataset.link, '', this.dataset.source, this.dataset.pubdate, this.dataset.originallink, this, cat)">
                    ğŸ“Œ í´ë¦½
                </button>
            </div>

            <!-- Naver Link -->
            <a class="btn-small" href="{{ item.link }}" target="_blank" onclick="event.stopPropagation();">
                ğŸ”— ë„¤ì´ë²„ì—ì„œ ë³´ê¸°
            </a>

            <!-- Original Link (if available) -->
            {% if item.originallink %}
            <a class="btn-small" href="{{ item.originallink }}" target="_blank" onclick="event.stopPropagation();">
                ğŸŒ ì–¸ë¡ ì‚¬ì—ì„œ ë³´ê¸°
            </a>
            {% endif %}
        </div>
    </div>
    {% endfor %}

    <!-- Empty State -->
    {% if items|length == 0 %}
    <div class="empty-state">
        <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
    </div>
    {% endif %}
</div>